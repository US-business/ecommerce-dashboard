# ุฏููู ุฅูุดุงุก ุญุณุงุจ ุงูุฃุฏูู (Admin Account Setup Guide)

## ๐ ุงููุญุชููุงุช
1. [ุงูุทุฑููุฉ ุงูุฃููู: Script ุงูุชููุฆุฉ (ุงูููุตู ุจูุง)](#ุงูุทุฑููุฉ-ุงูุฃููู-script-ุงูุชููุฆุฉ)
2. [ุงูุทุฑููุฉ ุงูุซุงููุฉ: ูู ููุญุฉ ุงูุชุญูู](#ุงูุทุฑููุฉ-ุงูุซุงููุฉ-ูู-ููุญุฉ-ุงูุชุญูู)
3. [ุงูููุงุฑูุฉ ุจูู ุงูุทุฑููุชูู](#ุงูููุงุฑูุฉ-ุจูู-ุงูุทุฑููุชูู)
4. [ุฃูุถู ุงูููุงุฑุณุงุช](#ุฃูุถู-ุงูููุงุฑุณุงุช)

---

## โ ุงููุถุน ุงูุญุงูู

ูุฏูู **ุทุฑููุชุงู** ูุฅูุดุงุก ุญุณุงุจ ุงูุฃุฏูู:

---

## ๐ฏ ุงูุทุฑููุฉ ุงูุฃููู: Script ุงูุชููุฆุฉ (ุงูููุตู ุจูุง)

### โ ูุชู ุชูุณุชุฎุฏูุ
- **ุฃูู ูุฑุฉ** ุชูุดุบูู ุงููุดุฑูุน
- ูุฅูุดุงุก ุฃูู Super Admin
- ูู ุจูุฆุฉ ุงูุฅูุชุงุฌ (Production)
- ููุชููุฆุฉ ุงูุฃูููุฉ Automated

### ๐ ุงูุฎุทูุงุช:

#### 1. ุชุซุจูุช tsx (ุฅุฐุง ูู ููู ููุฌูุฏุงู)
```bash
npm install tsx --save-dev
```

#### 2. ุชุญุฏูุซ `.env.local`
```bash
# ูู ููู .env.local
SUPER_ADMIN_EMAIL=admin@yourdomain.com
SUPER_ADMIN_PASSWORD=YourSecurePassword123!
```

**โ๏ธ ููู:**
- ูููุฉ ุงููุฑูุฑ ูุฌุจ ุฃู ุชููู **8 ุฃุญุฑู ุนูู ุงูุฃูู**
- ุงุณุชุฎุฏู ูููุฉ ูุฑูุฑ ูููุฉ ูู ุงูุฅูุชุงุฌ

#### 3. ุชุดุบูู Script
```bash
npm run seed:admin
```

### ๐ ูุงุฐุง ูุญุฏุซุ

Script `seed-admin.ts` ูููู ุจู:
1. โ **ูุชุญูู** ูู ูุฌูุฏ admin ุจููุณ ุงูุฅูููู
2. โ **ููุดุฆ ุญุณุงุจ ุฌุฏูุฏ** ุฅุฐุง ูู ููู ููุฌูุฏุงู
3. โ **ููุญุฏูุซ ูููุฉ ุงููุฑูุฑ** ุฅุฐุง ูุงู ููุฌูุฏุงู
4. โ **ูุดููุฑ ูููุฉ ุงููุฑูุฑ** ุจู bcrypt (12 rounds)
5. โ **ูุนูู Role** ูู `super_admin`

### ๐ป Output ุงููุชููุน:

#### ุฅุฐุง ูุงู ุญุณุงุจ ุฌุฏูุฏ:
```
Checking for existing admin user...
Creating new admin user...
Admin user created successfully!
Email: admin@yourdomain.com
Password: [HIDDEN FOR SECURITY]
```

#### ุฅุฐุง ูุงู ููุฌูุฏุงู:
```
Checking for existing admin user...
Admin user with this email already exists. Updating password...
Admin password updated successfully!
Email: admin@yourdomain.com
Password: [HIDDEN FOR SECURITY]
```

### ๐ ุงูุฃูุงู:
- โ ูููุฉ ุงููุฑูุฑ **ููุดููุฑุฉ** ุจู bcrypt
- โ `.env.local` ูู `.gitignore` (ูุง ููุฑูุน ูู Git)
- โ Script ุขูู ููุงุณุชุฎุฏุงู ุงููุชูุฑุฑ
- โ ููุญุฏูุซ ูููุฉ ุงููุฑูุฑ ุฅุฐุง ูุณูุชูุง

---

## ๐จ ุงูุทุฑููุฉ ุงูุซุงููุฉ: ูู ููุญุฉ ุงูุชุญูู

### โ ูุชู ุชูุณุชุฎุฏูุ
- ูุฅูุดุงุก admins **ุฅุถุงูููู**
- ุจุนุฏ ุชุณุฌูู ุฏุฎูู Super Admin
- ููุฅุฏุงุฑุฉ ุงูููููุฉ ูููุณุชุฎุฏููู

### ๐ ุงูุฎุทูุงุช:

#### 1. ุชุณุฌูู ุงูุฏุฎูู ูู Super Admin
```
URL: http://localhost:3000/ar/signin
Email: admin@yourdomain.com
Password: [ูููุฉ ุงููุฑูุฑ ูู .env.local]
```

#### 2. ุงูุฐูุงุจ ูุฅุฏุงุฑุฉ ุงููุณุชุฎุฏููู
```
Dashboard โ Users โ Create New User
```

#### 3. ููุก ุงูุจูุงูุงุช
```tsx
Username: admin2
Email: admin2@yourdomain.com
Password: SecurePassword123!
Role: Super Admin  // โญ ููุง ุชุฎุชุงุฑ ุงูู Role
Address: (ุงุฎุชูุงุฑู)
Phone: (ุงุฎุชูุงุฑู)
```

#### 4. ุญูุธ
โ ุณูุชู ุฅูุดุงุก ุงููุณุชุฎุฏู ูุชุดููุฑ ูููุฉ ุงููุฑูุฑ ุชููุงุฆูุงู

### ๐ฏ ุงูููููุงุช ุงููุณุชุฎุฏูุฉ:
- `components/dashboard/users/user-form.tsx` - ุงููููุฐุฌ
- `lib/actions/users.ts` - ุฅูุดุงุก ุงููุณุชุฎุฏู
- Role Dropdown ูุฏุนู:
  - โ `viewer` - ูุณุชุฎุฏู ุนุงุฏู
  - โ `super_admin` - ุฃุฏูู

---

## ๐ ุงูููุงุฑูุฉ ุจูู ุงูุทุฑููุชูู

| ุงููุนูุงุฑ | Script (.env.local) | ููุญุฉ ุงูุชุญูู |
|---------|-------------------|--------------|
| **ุงูุงุณุชุฎุฏุงู ุงูุฃูู** | โ ูุซุงูู | โ ุบูุฑ ูููู |
| **ุณูููุฉ ุงูุฅุนุฏุงุฏ** | โญโญโญโญโญ | โญโญโญ |
| **ุงูุฃูุงู** | โ ุนุงูู | โ ุนุงูู |
| **ุงูุชูุฑุงุฑ** | โ ุณูู | โ ุณูู |
| **Admins ุฅุถุงูููู** | โ๏ธ ูุฏูู | โ ุฃูุถู |
| **Production** | โ ููุตู ุจู | โ ุฌูุฏ |
| **Development** | โ ููุชุงุฒ | โ ุฌูุฏ |
| **Automation** | โ ูุนู | โ ูุง |

---

## ๐ฏ ุงูุณููุงุฑูู ุงูููุตู ุจู

### ๐ ุงููุฑุญูุฉ 1: ุงูุชููุฆุฉ ุงูุฃูููุฉ
```bash
# 1. ุฃูู ูุฑุฉ ุชูุดุบูู ุงููุดุฑูุน
npm run seed:admin

# 2. ุชุณุฌูู ุงูุฏุฎูู
# ุงุณุชุฎุฏู ุงูุจูุงูุงุช ูู .env.local
```

### ๐ฅ ุงููุฑุญูุฉ 2: ุฅุถุงูุฉ Admins
```bash
# ุงุณุชุฎุฏู ููุญุฉ ุงูุชุญูู ูุฅูุดุงุก admins ุฅุถุงูููู
Dashboard โ Users โ Create New User
```

---

## ๐ ุฃูุถู ุงูููุงุฑุณุงุช

### โ DO (ุงูุนู)

1. **ุงุณุชุฎุฏู Script ููุชููุฆุฉ ุงูุฃูููุฉ**
   ```bash
   npm run seed:admin
   ```

2. **ุงุณุชุฎุฏู ููุญุฉ ุงูุชุญูู ูููุณุชุฎุฏููู ุงูุฅุถุงูููู**
   - ุฃุณูู ูุฃุณุฑุน
   - ูุงุฌูุฉ ูุณุชุฎุฏู ูุงุถุญุฉ
   - ุชุญูู ูู ุงูุจูุงูุงุช

3. **ุงุญูู `.env.local`**
   ```bash
   # ุชุฃูุฏ ุฃูู ูู .gitignore
   .env.local
   ```

4. **ุงุณุชุฎุฏู ูููุงุช ูุฑูุฑ ูููุฉ**
   ```
   โ MySecureP@ssw0rd123!
   โ admin123
   ```

5. **ุบููุฑ ูููุฉ ุงููุฑูุฑ ุจุนุฏ ุฃูู ุฏุฎูู**
   - ุฎุงุตุฉ ูู Production

### โ DON'T (ูุง ุชูุนู)

1. **ูุง ุชุถุน ุจูุงูุงุช ุญุณุงุณุฉ ูู Git**
   ```bash
   # โ ูุง ุชุฑูุน .env.local
   git add .env.local  # DON'T!
   ```

2. **ูุง ุชุณุชุฎุฏู ูููุงุช ูุฑูุฑ ุถุนููุฉ**
   ```
   โ 12345678
   โ password
   โ admin
   ```

3. **ูุง ุชุดุงุฑู ุจูุงูุงุช ุงูุฃุฏูู**
   - ูู admin ูู ุญุณุงุจ ุฎุงุต

4. **ูุง ุชุณุชุฎุฏู ููุณ ูููุฉ ุงููุฑูุฑ**
   - ูู Development ู Production

---

## ๐ ุฅุนุงุฏุฉ ุชุนููู ูููุฉ ุงููุฑูุฑ

### ุฅุฐุง ูุณูุช ูููุฉ ุงููุฑูุฑ:

#### ุงูุทุฑููุฉ 1: ุจุงุณุชุฎุฏุงู Script
```bash
# 1. ุญุฏูุซ .env.local
SUPER_ADMIN_PASSWORD=NewPassword123!

# 2. ุดุบูู Script ูุฑุฉ ุฃุฎุฑู
npm run seed:admin

# โ ุณููุญุฏูุซ ูููุฉ ุงููุฑูุฑ ุชููุงุฆูุงู
```

#### ุงูุทุฑููุฉ 2: ูู Database ูุจุงุดุฑุฉ
```bash
# 1. ุงูุชุญ Drizzle Studio
npm run db:studio

# 2. ุงุจุญุซ ุนู ุงููุณุชุฎุฏู ูู ุฌุฏูู users

# 3. ุงุญุฐู ุงูุญุณุงุจ ูุฃุนุฏ ุฅูุดุงุกู ุจู Script
```

---

## ๐ ุงููููุงุช ุงููุฑุชุจุทุฉ

### Configuration:
- `.env.local` - ุจูุงูุงุช ุงูุฃุฏูู
- `.env.example` - ุงููุงูุจ

### Scripts:
- `scripts/seed-admin.ts` - Script ุฅูุดุงุก ุงูุฃุฏูู
- `package.json` - ุงูุฃูุงูุฑ

### Components:
- `components/dashboard/users/user-form.tsx` - ูููุฐุฌ ุงููุณุชุฎุฏู
- `lib/actions/users.ts` - ุฅูุดุงุก/ุชุญุฏูุซ ุงููุณุชุฎุฏููู

### Database:
- `lib/db/schema.ts` - ุฌุฏูู users
- Role: `viewer | super_admin`

---

## ๐ ุงุณุชูุดุงู ุงูุฃุฎุทุงุก

### ุงููุดููุฉ: Script ูุง ูุนูู
```bash
# ุงูุญู 1: ุชุญูู ูู tsx
npm list tsx
npm install tsx --save-dev

# ุงูุญู 2: ุชุญูู ูู .env.local
cat .env.local | grep SUPER_ADMIN

# ุงูุญู 3: ุชุญูู ูู Database
npm run db:studio
```

### ุงููุดููุฉ: "Email already exists"
```bash
# ูุฐุง ุทุจูุนู! Script ุณููุญุฏูุซ ูููุฉ ุงููุฑูุฑ
npm run seed:admin
# โ Password updated successfully!
```

### ุงููุดููุฉ: ูุง ุฃุณุชุทูุน ุชุณุฌูู ุงูุฏุฎูู
```bash
# 1. ุชุฃูุฏ ุฃู ุงูุจูุงูุงุช ุตุญูุญุฉ ูู .env.local
# 2. ุดุบูู Script ูุฑุฉ ุฃุฎุฑู
npm run seed:admin
# 3. ุฌุฑูุจ ุชุณุฌูู ุงูุฏุฎูู ุจุงูุจูุงูุงุช ุงูุฌุฏูุฏุฉ
```

---

## ๐ ุงูุฎูุงุตุฉ

### โ ุงูุทุฑููุฉ ุงูุตุญูุญุฉ:

1. **ุฃูู ูุฑุฉ:** ุงุณุชุฎุฏู Script
   ```bash
   npm run seed:admin
   ```

2. **Admins ุฅุถุงูููู:** ุงุณุชุฎุฏู ููุญุฉ ุงูุชุญูู
   ```
   Dashboard โ Users โ Create New User
   ```

3. **ูุณูุช ูููุฉ ุงููุฑูุฑ:** ุดุบูู Script ูุฑุฉ ุฃุฎุฑู
   ```bash
   # ุญุฏูุซ .env.local ุซู
   npm run seed:admin
   ```

### ๐ซ ุงูุทุฑููุฉ ุงูุฎุงุทุฆุฉ:

โ ูุถุน ุจูุงูุงุช ุงูุฃุฏูู ููุท ูู `.env.local` ูุชููุน ุฃู ูุนูู ุชููุงุฆูุงู
- ูุฌุจ ุชุดุบูู Script ุฃููุงู ูุฅูุดุงุก ุงูุญุณุงุจ ูู Database

---

## ๐ ุงูุฏุนู

ุฅุฐุง ูุงุฌูุช ูุดููุฉ:
1. ุฑุงุฌุน [ุงุณุชูุดุงู ุงูุฃุฎุทุงุก](#ุงุณุชูุดุงู-ุงูุฃุฎุทุงุก)
2. ุชุญูู ูู Database ุจู `npm run db:studio`
3. ุดุบูู Script ูุฑุฉ ุฃุฎุฑู `npm run seed:admin`

---

**ุชุงุฑูุฎ ุงูุฅูุดุงุก:** ุฃูุชูุจุฑ 2025  
**ุขุฎุฑ ุชุญุฏูุซ:** ุฃูุชูุจุฑ 2025  
**ุงูุญุงูุฉ:** โ Tested & Production Ready
