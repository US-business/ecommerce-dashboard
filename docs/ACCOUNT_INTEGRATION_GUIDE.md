# ุฏููู ุฏูุฌ ุตูุญุฉ Account - ุงูููู ุงูุดุฎุตู ุงููุชูุงูู

## ๐ฏ **ุงููุฏู ูู ุงูุชุญุฏูุซ**

ุชู ุฏูุฌ ุฌููุน ููุฒุงุช ุตูุญุฉ `profile` ูู ุตูุญุฉ `account` ูุชุตุจุญ ุตูุญุฉ `account` ูู ุงูุตูุญุฉ ุงูุฑุฆูุณูุฉ ุงูููุญุฏุฉ ูุฅุฏุงุฑุฉ ุงูุญุณุงุจ ูุน ุฌููุน ุงูููุฒุงุช ุงููุชูุฏูุฉ.

---

## ๐ **ุงูุชุบููุฑุงุช ุงููุทุจูุฉ**

### **1. ุตูุญุฉ Account ุงููุญุฏุซุฉ (`/[lang]/account`)**

#### **ุงูููุฒุงุช ุงูุฌุฏูุฏุฉ ุงููุฏูุฌุฉ:**
- โ **Header ูุชุทูุฑ**: Avatarุ Badge ููุฏูุฑุ ูุนูููุงุช ุงูุนุถููุฉ
- โ **ุซูุงุซุฉ ุชุจููุจุงุช ุฑุฆูุณูุฉ**:
  - **ุงูููู ุงูุดุฎุตู**: ูุนูููุงุช ุงูุญุณุงุจ ุงูุฃุณุงุณูุฉ
  - **ุงูุฃูุงู**: ุชุบููุฑ ูููุฉ ุงููุฑูุฑ ุฃู ุฅุฏุงุฑุฉ ุญุณุงุจ Google
  - **ุงูุทูุจุงุช**: ุชุงุฑูุฎ ุงูุทูุจุงุช ูุงูุญุงูุฉ
- โ **ุฏุนู ูุงูู ููุบุงุช**: ุนุฑุจู (RTL) ูุฅูุฌููุฒู (LTR)
- โ **ุชุตููู ูุชุฌุงูุจ**: ูุนูู ุนูู ุฌููุน ุงูุฃุฌูุฒุฉ
- โ **ุชูุงูู ูุน NextAuth**: ุฏุนู ุญุณุงุจุงุช Google ู ุงููุญููุฉ

#### **ุงูุจููุฉ ุงูุฌุฏูุฏุฉ:**
```
/[lang]/account/
โโโ page.tsx (Server Component)
โโโ _components/
โ   โโโ AccountPageClient.tsx (Client Component - ุงูุฑุฆูุณู)
โ   โโโ ProfileForm.tsx (ูุญุฏุซ ููุนุฑุถ ููุท)
```

### **2. ุฅุนุงุฏุฉ ุชูุฌูู ุตูุญุฉ Profile**

ุตูุญุฉ `/[lang]/profile` ุชููู ุงูุขู ุจุฅุนุงุฏุฉ ุชูุฌูู ุชููุงุฆูุฉ ุฅูู `/[lang]/account`:

```typescript
// app/[lang]/(site)/profile/page.tsx
useEffect(() => {
  router.replace(`/${lang}/account`)
}, [router, lang])
```

### **3. ุชุญุฏูุซ Navigation**

- **Sidebar ุงูุฏุงุดุจูุฑุฏ**: ููุฌู ุงูุขู ุฅูู `/account` ุจุฏูุงู ูู `/profile`
- **ุฑูุงุจุท ุชุบููุฑ ูููุฉ ุงููุฑูุฑ**: ุชุนูุฏ ุงูุชูุฌูู ุฅูู `/account`

---

## ๐จ **ุงูููุฒุงุช ุงููุชูุฏูุฉ**

### **1. Header ุงูุชูุงุนูู**
```typescript
// ูุนูููุงุช ุงููุณุชุฎุฏู ูุน Avatar ูBadge
<Avatar className="h-20 w-20">
  <AvatarImage src={currentUser?.image} />
  <AvatarFallback>{getInitials(username)}</AvatarFallback>
</Avatar>

<Badge variant={getRoleBadgeVariant(role)}>
  {getRoleText(role)}
</Badge>
```

### **2. ุชุจููุจุงุช ุฐููุฉ**
```typescript
// ุซูุงุซุฉ ุชุจููุจุงุช ูุน ุฃููููุงุช
<TabsList className="grid w-full grid-cols-3">
  <TabsTrigger value="profile">
    <UserIcon className="h-4 w-4 mr-2" />
    Profile
  </TabsTrigger>
  <TabsTrigger value="security">
    <Lock className="h-4 w-4 mr-2" />
    Security
  </TabsTrigger>
  <TabsTrigger value="orders">
    <Mail className="h-4 w-4 mr-2" />
    Orders
  </TabsTrigger>
</TabsList>
```

### **3. ูุนุงูุฌุฉ ุฐููุฉ ููุญุณุงุจุงุช**
```typescript
// ุชูููุฒ ุจูู ุญุณุงุจุงุช Google ูุงููุญููุฉ
{currentUser?.provider === "google" ? (
  // ุฑุณุงูุฉ ูุฒุฑ ูุฅุฏุงุฑุฉ ุญุณุงุจ Google
  <Button onClick={() => window.open("https://myaccount.google.com/security")}>
    Manage Google Account
  </Button>
) : (
  // ูููุฐุฌ ุชุบููุฑ ูููุฉ ุงููุฑูุฑ ููุญุณุงุจุงุช ุงููุญููุฉ
  <ChangePasswordForm />
)}
```

---

## ๐ **ุฏุนู ุงููุบุงุช ุงููุญุณู**

### **ุงูุชุฑุฌูุฉ ุงูุชููุงุฆูุฉ:**
```typescript
const safeDictionary = {
  account: {
    tabs: {
      profile: dictionary?.account?.tabs?.profile || (dir === "rtl" ? "ุงูููู ุงูุดุฎุตู" : "Profile"),
      orders: dictionary?.account?.tabs?.orders || (dir === "rtl" ? "ุงูุทูุจุงุช" : "Orders"),
    }
  }
};
```

### **ุฏุนู RTL/LTR:**
```typescript
const dir = lang === "ar" ? "rtl" : "ltr"

<div className={cn("flex items-center gap-6", dir === "rtl" && "flex-row-reverse")}>
  {/* ุงููุญุชูู ูุชููู ูุน ุงุชุฌุงู ุงููุบุฉ */}
</div>
```

---

## ๐ฑ **ุงูุชุตููู ุงููุชุฌุงูุจ**

### **Grid Layout:**
```typescript
// ุดุจูุฉ ูุชุฌุงูุจุฉ ูููุนูููุงุช
<div className="grid grid-cols-1 md:grid-cols-2 gap-4">
  <div className="space-y-2">
    <label>Name</label>
    <p>{user.username}</p>
  </div>
  {/* ุงููุฒูุฏ ูู ุงูุญููู */}
</div>
```

### **Mobile-First:**
- ุชุจููุจุงุช ุชุชููู ูุน ุงูุดุงุดุงุช ุงูุตุบูุฑุฉ
- ุฃุฒุฑุงุฑ ูุฃููููุงุช ูุญุณูุฉ ูููุณ
- ูุตูุต ูุงุจูุฉ ูููุฑุงุกุฉ ุนูู ุฌููุน ุงูุฃุญุฌุงู

---

## ๐ง **ุงูุชูุงูู ุงูุชููู**

### **Server + Client Components:**
```typescript
// Server Component (page.tsx)
export default async function AccountPage({ params }) {
  const session = await getServerSession(authOptions)
  const orders = await getUserOrders(user.id)
  
  return <AccountPageClient user={user} orders={orders} />
}

// Client Component (AccountPageClient.tsx)
export default function AccountPageClient({ user, orders }) {
  const [activeTab, setActiveTab] = useState("profile")
  // ุงูุชูุงุนู ูุงูุญุงูุฉ
}
```

### **Type Safety:**
```typescript
// ุฃููุงุน ูุญุฏุฏุฉ ููุญุณูุฉ
type User = {
  id: number;
  username: string | null;
  email: string;
  role: "super_admin" | "viewer";
  // ุงููุฒูุฏ ูู ุงูุญููู
}

const safeUser = {
  ...user,
  id: user.id || 0, // ุชุฃูุฏ ูู ูุฌูุฏ ID
}
```

---

## ๐งช **ููููุฉ ุงูุงุฎุชุจุงุฑ**

### **1. ุงููุตูู ููุตูุญุฉ:**
```bash
# ุงููุตูู ุงููุจุงุดุฑ
/ar/account
/en/account

# ูู ุงูุฏุงุดุจูุฑุฏ
Dashboard โ Profile (ูู ุงูุดุฑูุท ุงูุฌุงูุจู)

# ุฅุนุงุฏุฉ ุงูุชูุฌูู ูู profile
/ar/profile โ /ar/account (ุชููุงุฆู)
```

### **2. ุงุฎุชุจุงุฑ ุงูุชุจููุจุงุช:**
```bash
# ุชุจููุจ ุงูููู ุงูุดุฎุตู
- ุนุฑุถ ูุนูููุงุช ุงููุณุชุฎุฏู
- Avatar ูุน ุงูุฃุญุฑู ุงูุฃููู
- Badge ููุฏูุฑ (Super Admin/User)
- ูุนูููุงุช ุงูุนุถููุฉ

# ุชุจููุจ ุงูุฃูุงู
- ููุญุณุงุจุงุช ุงููุญููุฉ: ูููุฐุฌ ุชุบููุฑ ูููุฉ ุงููุฑูุฑ
- ูุญุณุงุจุงุช Google: ุฑุณุงูุฉ ูุน ุฑุงุจุท ุงูุฅุฏุงุฑุฉ

# ุชุจููุจ ุงูุทูุจุงุช
- ุนุฑุถ ุงูุทูุจุงุช ุฅุฐุง ูุฌุฏุช
- ุฑุณุงูุฉ "ูุง ุชูุฌุฏ ุทูุจุงุช" ูุน ุฒุฑ ุงูุชุณูู
```

### **3. ุงุฎุชุจุงุฑ ุงููุบุงุช:**
```bash
# ุงูุนุฑุจูุฉ (RTL)
/ar/account
- ุงููุตูุต ุจุงููุบุฉ ุงูุนุฑุจูุฉ
- ุงูุงุชุฌุงู ูู ุงููููู ูููุณุงุฑ
- ุงูุฃููููุงุช ูุงูุฃุฒุฑุงุฑ ูุชูููุฉ

# ุงูุฅูุฌููุฒูุฉ (LTR)
/en/account
- ุงููุตูุต ุจุงููุบุฉ ุงูุฅูุฌููุฒูุฉ
- ุงูุงุชุฌุงู ูู ุงููุณุงุฑ ูููููู
- ุงูุชุตููู ุงูููุงุณู
```

---

## ๐ฏ **ุงูููุงุฆุฏ ุงููุญููุฉ**

### **ูููุณุชุฎุฏููู:**
- โ **ุชุฌุฑุจุฉ ููุญุฏุฉ**: ุตูุญุฉ ูุงุญุฏุฉ ูุฌููุน ุฅุนุฏุงุฏุงุช ุงูุญุณุงุจ
- โ **ุณูููุฉ ุงูุชููู**: ุชุจููุจุงุช ูุงุถุญุฉ ูููุธูุฉ
- โ **ูุนูููุงุช ุดุงููุฉ**: ุนุฑุถ ูุงูู ูุจูุงูุงุช ุงูุญุณุงุจ
- โ **ุฃูุงู ูุญุณู**: ุฅุฏุงุฑุฉ ูููุฉ ุงููุฑูุฑ ุญุณุจ ููุน ุงูุญุณุงุจ

### **ูููุทูุฑูู:**
- โ **ููุฏ ููุธู**: ูุตู ูุงุถุญ ุจูู Server ู Client Components
- โ **ูุงุจููุฉ ุงูุตูุงูุฉ**: ููููุงุช ูุงุจูุฉ ููุฅุนุงุฏุฉ ุงูุงุณุชุฎุฏุงู
- โ **Type Safety**: ุฃููุงุน ูุญุฏุฏุฉ ููุญุณูุฉ
- โ **Performance**: ุชุญููู ูุญุณู ููุจูุงูุงุช

### **ููุฃุนูุงู:**
- โ **ุชุฌุฑุจุฉ ูุณุชุฎุฏู ูุชููุฒุฉ**: ุฑุถุง ุฃูุจุฑ ููุนููุงุก
- โ **ุฅุฏุงุฑุฉ ุฃูุถู**: ูุนูููุงุช ููุธูุฉ ูุณููุฉ ุงููุตูู
- โ **ุฃูุงู ุนุงูู**: ุญูุงูุฉ ูุญุณูุฉ ููุญุณุงุจุงุช
- โ **ุฏุนู ูุชุนุฏุฏ ุงููุบุงุช**: ูุตูู ุฃูุณุน ููุนููุงุก

---

## ๐ **ุงููููุงุช ุงููุญุฏุซุฉ**

### **ูููุงุช ุฑุฆูุณูุฉ:**
```
โ app/[lang]/(site)/account/page.tsx
โ app/[lang]/(site)/account/_components/AccountPageClient.tsx
โ app/[lang]/(site)/account/_components/ProfileForm.tsx
โ app/[lang]/(site)/profile/page.tsx (redirect)
โ components/dashboard/layout/sidebar.tsx
โ app/[lang]/(site)/change-password/page.tsx
```

### **ููููุงุช ูุณุชุฎุฏูุฉ:**
```
โ components/shadcnUI/tabs.tsx
โ components/shadcnUI/avatar.tsx
โ components/shadcnUI/badge.tsx
โ components/auth/ChangePasswordForm.tsx
```

---

## ๐ **ุงูุฎุทูุงุช ุงูุชุงููุฉ**

### **ุชุญุณููุงุช ููุชุฑุญุฉ:**
1. **ุฅุถุงูุฉ ุชุนุฏูู ุงูููู ุงูุดุฎุตู**: ูููุฐุฌ ูุชุญุฏูุซ ุงููุนูููุงุช
2. **ุชุญุณูู ุนุฑุถ ุงูุทูุจุงุช**: ุชูุงุตูู ุฃูุซุฑ ูููุชุฑุฉ
3. **ุฅุถุงูุฉ ุงูุฅุดุนุงุฑุงุช**: ุชูุถููุงุช ุงูุฅุดุนุงุฑุงุช
4. **ุชุญุณูู ุงูุฃูุงู**: ุฅุนุฏุงุฏุงุช ุฃูุงู ุฅุถุงููุฉ

### **ููุฒุงุช ูุชูุฏูุฉ:**
1. **ุชูุนูู 2FA**: ูุตุงุฏูุฉ ุซูุงุฆูุฉ
2. **ุฅุฏุงุฑุฉ ุงูุฌูุณุงุช**: ุนุฑุถ ุงูุฃุฌูุฒุฉ ุงููุดุทุฉ
3. **ุณุฌู ุงูุฃูุดุทุฉ**: ุชุชุจุน ุชุณุฌููุงุช ุงูุฏุฎูู
4. **ุชุฎุตูุต ุงููุงุฌูุฉ**: ุฅุนุฏุงุฏุงุช ุงููุธูุฑ

---

## ๐ **ุงูุฏุนู ูุงููุณุงุนุฏุฉ**

### **ูููุทูุฑูู:**
- ุฑุงุฌุน ุงูููุฏ ูู `AccountPageClient.tsx` ููููู ุงููุงูู
- ุงุณุชุฎุฏู `ChangePasswordForm` ููุฑุฌุน ููููููุงุช ุงููุงุจูุฉ ููุฅุนุงุฏุฉ ุงูุงุณุชุฎุฏุงู
- ุงุชุจุน ููุท Server/Client Components ููุตูุญุงุช ุงูุฌุฏูุฏุฉ

### **ูููุณุชุฎุฏููู:**
- ุงููุตูู ุนุจุฑ `/account` ุฃู ูู ุงูุฏุงุดุจูุฑุฏ
- ุฌููุน ุงูููุฒุงุช ูุชุงุญุฉ ูู ุงูุชุจููุจุงุช ุงูุซูุงุซุฉ
- ุฏุนู ูุงูู ููุนุฑุจูุฉ ูุงูุฅูุฌููุฒูุฉ

**ุชุงุฑูุฎ ุงูุชุญุฏูุซ**: 6 ุฃูุชูุจุฑ 2025  
**ุงูุฅุตุฏุงุฑ**: 2.0.0  
**ุงููุทูุฑ**: Kiro AI Assistant