# Search Component Architecture

## ๐ ูุธุฑุฉ ุนุงูุฉ

ุชู ุฅุนุงุฏุฉ ููููุฉ ูููู ุงูุจุญุซ ููููู **Server Component** ูุน ูุตู ูู ุงูููููุงุช ุงููุฑุนูุฉ ุฅูู ูููุงุช ูุณุชููุฉ ูู ูุฌูุฏ `_components`.

## ๐๏ธ ุงูุจููุฉ

```
search/
โโโ Search.tsx                      # Server Component (ูุฌูุจ ุงููุฆุงุช ูู ุงูุณูุฑูุฑ)
โโโ _components/
โ   โโโ SearchBarClient.tsx        # Client Component ุงูุฑุฆูุณู (ูุฏูุฑ ุงูุญุงูุฉ ูุงูุชูุงุนู)
โ   โโโ CategorySelector.tsx       # ูุงุฆูุฉ ุงุฎุชูุงุฑ ุงููุฆุงุช
โ   โโโ SearchInput.tsx            # ุญูู ุงูุจุญุซ ูุงูุฃุฒุฑุงุฑ
โ   โโโ SearchResults.tsx          # ุญุงููุฉ ูุชุงุฆุฌ ุงูุจุญุซ
โ   โโโ ProductItem.tsx            # ุนูุตุฑ ุงูููุชุฌ ูู ุงููุชุงุฆุฌ
โ   โโโ LoadingState.tsx           # ุญุงูุฉ ุงูุชุญููู
โ   โโโ EmptyState.tsx             # ุญุงูุฉ ูุงุฑุบุฉ (ูุง ุชูุฌุฏ ูุชุงุฆุฌ)
โ   โโโ index.ts                   # ุชุตุฏูุฑ ุฌููุน ุงูููููุงุช
โโโ README.md                      # ูุฐุง ุงูููู
```

## ๐ ุชุฏูู ุงูุจูุงูุงุช

1. **Search.tsx (Server Component)**:
   - ูุฌูุจ ุงููุฆุงุช ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช ุนูุฏ ุงูุชุญููู ุงูุฃููู
   - ููุฑุฑ ุงููุฆุงุช ุฅูู `SearchBarClient`

2. **SearchBarClient.tsx (Client Component)**:
   - ูุฏูุฑ ุญุงูุฉ ุงูุจุญุซ ูุงูููุชุฌุงุช
   - ูุชุนุงูู ูุน ุงูุชูุงุนูุงุช (ูุชุงุจุฉุ ุงุฎุชูุงุฑ ูุฆุฉุ ุฅูุฎ)
   - ูุนุฑุถ ุงูููููุงุช ุงููุฑุนูุฉ

3. **ุงูููููุงุช ุงููุฑุนูุฉ**:
   - ูู ูููู ูุณุคูู ุนู ุฌุฒุก ูุญุฏุฏ ูู ุงููุงุฌูุฉ
   - ุชุชููู ุงูุจูุงูุงุช ูุงูู callbacks ูู `SearchBarClient`

## ๐ฑ ุงูุงุณุชุฌุงุจุฉ (Responsive)

ุฌููุน ุงูููููุงุช ููุญุณููุฉ ููุงุณุชุฌุงุจุฉ ูุฌููุน ุฃุญุฌุงู ุงูุดุงุดุงุช:

### CategorySelector
- `min-w-[70px]` ุนูู ุงูุดุงุดุงุช ุงูุตุบูุฑุฉ
- `md:min-w-[100px]` ุนูู ุงูุดุงุดุงุช ุงููุชูุณุทุฉ

### SearchInput
- ุฃููููุงุช `h-3 w-3` ุนูู ุงูููุจุงูู
- `md:h-4 md:w-4` ุนูู ุงูุดุงุดุงุช ุงูุฃูุจุฑ
- ูุต `text-sm` ุนูู ุงูููุจุงููุ `md:text-base` ุนูู ุงูุฃุฌูุฒุฉ ุงูุฃูุจุฑ

### SearchResults
- `max-h-[300px]` ุนูู ุงูููุจุงูู
- `md:max-h-96` ุนูู ุงูุดุงุดุงุช ุงูุฃูุจุฑ

### ProductItem
- ุตูุฑ `w-10 h-10` ุนูู ุงูููุจุงูู
- `md:w-12 md:h-12` ุนูู ุงูุดุงุดุงุช ุงูุฃูุจุฑ
- ุฃุญุฌุงู ูุตูุต ูุชุฏุฑุฌุฉ ุญุณุจ ุงูุดุงุดุฉ

## ๐ฏ ุงููููุฒุงุช

### โ Server Component
- ุชุญุณูู ุงูุฃุฏุงุก ุจุฌูุจ ุงูุจูุงูุงุช ูู ุงูุณูุฑูุฑ
- ุชูููู ุญุฌู JavaScript ุงููุฑุณู ููุนููู
- SEO-friendly

### โ ูุตู ุงููุณุคูููุงุช
- ูู ูููู ูู ูุณุคูููุฉ ูุงุญุฏุฉ ูุงุถุญุฉ
- ุณูููุฉ ุงูุตูุงูุฉ ูุงูุชุทููุฑ
- ุฅููุงููุฉ ุฅุนุงุฏุฉ ุงูุงุณุชุฎุฏุงู

### โ Responsive Design
- ูุนูู ุจุดูู ูุซุงูู ุนูู ุฌููุน ุงูุฃุฌูุฒุฉ
- ุชุฌุฑุจุฉ ูุณุชุฎุฏู ูุญุณููุฉ
- ุฃุญุฌุงู ูุตูุต ูุนูุงุตุฑ ููุงุณุจุฉ ููู ุดุงุดุฉ

### โ Performance
- Debouncing ููุจุญุซ (300ms)
- Lazy loading ูููุชุงุฆุฌ
- ุฅุบูุงู ุงููุชุงุฆุฌ ุจุฒุฑ Escape

### โ i18n Support
- ุฏุนู ูุงูู ููุนุฑุจูุฉ ูุงูุฅูุฌููุฒูุฉ
- RTL/LTR support
- ุงุชุฌุงู ุงููุญุชูู ุฏููุงูููู

## ๐ ููููุฉ ุงูุงุณุชุฎุฏุงู

```tsx
import { SearchBar } from "./components/layout/Header/search/Search"

// ูู Server Component
export default function Layout() {
  return (
    <header>
      <SearchBar />
    </header>
  )
}
```

## ๐ง ุงูุชุฎุตูุต

### ุฅุถุงูุฉ ุญุงูุฉ ุฌุฏูุฏุฉ ููุจุญุซ

1. ุฃูุดุฆ ูููู ุฌุฏูุฏ ูู `_components/`
2. ุงุณุชูุฑุฏู ูู `SearchBarClient.tsx`
3. ุฃุถูู ูู ุงูููุถุน ุงูููุงุณุจ

### ุชุนุฏูู ุงูุชุตููู

- ูู ูููู ูุญุชูู ุนูู Tailwind classes ุฎุงุตุฉ ุจู
- ูููู ุชุนุฏูููุง ูุจุงุดุฑุฉ ูู ุงูููู ุงููุนูู
- ุงุณุชุฎุฏู responsive classes (`sm:`, `md:`, `lg:`, `xl:`)

## ๐ ุฃูุถู ุงูููุงุฑุณุงุช

1. **ูุง ุชุถุน state ูู Server Components**: ุงุณุชุฎุฏู Client Components ููู state
2. **ุงุฌุนู ุงูููููุงุช ุตุบูุฑุฉ**: ูู ูููู ููุนู ุดูุก ูุงุญุฏ ุจุดูู ุฌูุฏ
3. **ุงุณุชุฎุฏู TypeScript**: ุญุฏุฏ types ูุงุถุญุฉ ููู props
4. **ุงุฎุชุจุฑ ุนูู ุฃุญุฌุงู ุดุงุดุงุช ูุฎุชููุฉ**: ุชุฃูุฏ ูู ุงูุงุณุชุฌุงุจุฉ ุงูุตุญูุญุฉ

## ๐ฆ ุงูุชุจุนูุงุช

- `@/lib/actions/products` - ูุฌูุจ ุงูููุชุฌุงุช
- `@/lib/actions/categories` - ูุฌูุจ ุงููุฆุงุช
- `@/lib/stores` - ูุฅุฏุงุฑุฉ ุงูุญุงูุฉ ุงูุนุงูุฉ
- `lucide-react` - ููุฃููููุงุช
- `@/components/shadcnUI` - ููููููุงุช ุงูุฃุณุงุณูุฉ

## ๐ Troubleshooting

### ุงูุจุญุซ ูุง ูุนูู
- ุชุญูู ูู ุงุชุตุงู API
- ุชุฃูุฏ ูู ูุฌูุฏ `getAllProductsActions`

### ุงููุฆุงุช ูุง ุชุธูุฑ
- ุชุญูู ูู `getCategories` ูู Server Component
- ุชุฃูุฏ ูู ุฃู ุงูุจูุงูุงุช ุชูุฑุฑ ุจุดูู ุตุญูุญ

### ูุดุงูู ูู ุงูุงุณุชุฌุงุจุฉ
- ุงุณุชุฎุฏู DevTools ููุญุต breakpoints
- ุชุฃูุฏ ูู ุงุณุชุฎุฏุงู responsive classes

---

ุชู ุงูุชุทููุฑ ุจูุงุณุทุฉ Cascade AI ๐
